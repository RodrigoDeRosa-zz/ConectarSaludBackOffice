<mat-card class="family-group-card">
  <mat-card-header>
    <mat-card-title>{{titleReadOnly? titleReadOnly:title}} {{affiliateData.firstnameAndLastname}}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="mdc-layout-grid__inner">
      <div class="mdc-layout-grid__cell--span-6">
        <mat-card class="family-group-card">
          <mat-card-header>
            <mat-card-title>{{prescriptionTitleText}}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <mat-checkbox [disabled]="onlyRead" (change)="dontApply($event,'prescription')">{{dontApplyText}}</mat-checkbox>
            <mat-card *ngIf="show.prescription">
              <mat-card-subtitle><b>{{dateText}}</b> {{date}}</mat-card-subtitle>
              <mat-card-header class="prescription-header">
                <mat-card-title>{{patientText}}</mat-card-title>
                <mat-card-subtitle><b>{{nameAndLastNameText}}</b> {{affiliateData.firstnameAndLastname}}</mat-card-subtitle>
                <mat-card-subtitle><b>{{planText}}</b> {{affiliateData.plan}}</mat-card-subtitle>
                <mat-card-subtitle><b>{{planNumberText}}</b> {{affiliateData.planNumber}}</mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                <mat-form-field class="full-width">
                  <mat-label>{{patientPrescriptionText}}</mat-label>
                  <textarea matInput [(ngModel)]="data.prescription" rows="15" [placeholder]="prescriptionPlaceholder" [disabled]="onlyRead"></textarea>
                </mat-form-field>
              </mat-card-content>
              <mat-card-header class="prescription-header">
                <img mat-card-avatar src="assets/images/ConectarSalud_TP_7547.png"/>
                <mat-card-title>{{medicTitleText}}</mat-card-title>
                <mat-card-subtitle><b>{{nameAndLastNameText}}</b> {{doctorData.firstnameAndLastname}}</mat-card-subtitle>
                <mat-card-subtitle><b>{{licenseText}}</b> {{doctorData.license}}</mat-card-subtitle>
                <mat-card-subtitle><b>{{specialitiesText}}</b> {{doctorData.specialties}}</mat-card-subtitle>
              </mat-card-header>
              <mat-card-actions style="text-align: center;">
                <b>{{footerText}}</b>
              </mat-card-actions>
            </mat-card>
          </mat-card-content>
        </mat-card>
      </div>
      <div class="mdc-layout-grid__cell--span-6">
        <mat-card class="family-group-card">
          <mat-card-header>
            <mat-card-title>{{indicationsText}}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div>
              <mat-checkbox [disabled]="onlyRead" (change)="dontApply($event,'indications')">{{dontApplyText}}</mat-checkbox>
              <mat-form-field class="full-width" *ngIf="show.indications">
                <mat-label>{{indicationsLabelText}}</mat-label>
                <textarea matInput [(ngModel)]="data.indications" rows="15" placeholder="{{indicationsPlaceholderText}}" [disabled]="onlyRead"></textarea>
              </mat-form-field>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </mat-card-content>
  <mat-card-actions align="end">
    <button *ngIf="!onlyRead" mat-raised-button color="primary" (click)="submit()">{{finishButtonText}}</button>
    <button *ngIf="onlyRead" mat-raised-button color="primary" (click)="backToHistory()">{{backButtonText}}</button>
  </mat-card-actions>
</mat-card>
